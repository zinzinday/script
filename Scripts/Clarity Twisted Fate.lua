--  Clarity Twisted Fate 1.3



assert(load(Base64Decode(
"DQotLVtbVHdpc3RlZCBGYXRlIGJ5IFRlYW0gQ2xhcml0eV1dDQoNCg0KDQppZiBteUhlcm8uY2hhck5hbWUgfj0gJ1R3aXN0ZWRGYXRlJyB0aGVuIHJldHVybiBlbmQNCg0KYXNzZXJ0KGxvYWQoQmFzZTY0RGVjb2RlKCJHMHgxWVZJQUFRUUVCQWdBR1pNTkNob0tBQUFBQUFBQUFBQUFBUUlLQUFBQUJnQkFBRUZBQUFBZFFBQUJCa0JBQUdVQUFBQUtRQUNCQmtCQUFHVkFBQUFLUUlDQkh3Q0FBQVFBQUFBRUJnQUFBR05zWVhOekFBUU5BQUFBVTJOeWFYQjBVM1JoZEhWekFBUUhBQUFBWDE5cGJtbDBBQVFMQUFBQVUyVnVaRlZ3WkdGMFpRQUNBQUFBQWdBQUFBZ0FBQUFDQUFvdEFBQUFoa0JBQU1hQVFBQUd3VUFBQndGQkFrRkJBUUFkZ1FBQlJzRkFBRWNCd1FLQmdRRUFYWUVBQVliQlFBQ0hBVUVEd2NFQkFKMkJBQUhHd1VBQXh3SEJBd0VDQWdEZGdRQUJCc0pBQUFjQ1FRUkJRZ0lBSFlJQUFSWUJBZ0xkQUFBQm5ZQUFBQXFBQUlBS1FBQ0ZoZ0JEQU1IQUFnQ2RnQUFCQ29DQWhRcUF3NGFHQUVRQXg4QkNBTWZBd3dIZEFJQUFuWUFBQUFxQWdJZU1RRVFBQVlFRUFKMUFnQUdHd0VRQTVRQUFBSjFBQUFFZkFJQUFGQUFBQUFRRkFBQUFhSGRwWkFBRURRQUFBRUpoYzJVMk5FVnVZMjlrWlFBRUNRQUFBSFJ2YzNSeWFXNW5BQVFEQUFBQWIzTUFCQWNBQUFCblpYUmxibllBQkJVQUFBQlFVazlEUlZOVFQxSmZTVVJGVGxSSlJrbEZVZ0FFQ1FBQUFGVlRSVkpPUVUxRkFBUU5BQUFBUTA5TlVGVlVSVkpPUVUxRkFBUVFBQUFBVUZKUFEwVlRVMDlTWDB4RlZrVk1BQVFUQUFBQVVGSlBRMFZUVTA5U1gxSkZWa2xUU1U5T0FBUUVBQUFBUzJWNUFBUUhBQUFBYzI5amEyVjBBQVFJQUFBQWNtVnhkV2x5WlFBRUNnQUFBR2RoYldWVGRHRjBaUUFBQkFRQUFBQjBZM0FBQkFjQUFBQmhjM05sY25RQUJBc0FBQUJUWlc1a1ZYQmtZWFJsQUFNQUFBQUFBQUR3UHdRVUFBQUFRV1JrUW5WbmMzQnNZWFJEWVd4c1ltRmphd0FCQUFBQUNBQUFBQWdBQUFBQUFBTUZBQUFBQlFBQUFBd0FRQUNCUUFBQUhVQ0FBUjhBZ0FBQ0FBQUFCQXNBQUFCVFpXNWtWWEJrWVhSbEFBTUFBQUFBQUFBQVFBQUFBQUFCQUFBQUFRQVFBQUFBUUc5aVpuVnpZMkYwWldRdWJIVmhBQVVBQUFBSUFBQUFDQUFBQUFnQUFBQUlBQUFBQ0FBQUFBQUFBQUFCQUFBQUJRQUFBSE5sYkdZQUFRQUFBQUFBRUFBQUFFQnZZbVoxYzJOaGRHVmtMbXgxWVFBdEFBQUFBd0FBQUFNQUFBQUVBQUFBQkFBQUFBUUFBQUFFQUFBQUJBQUFBQVFBQUFBRUFBQUFCQUFBQUFVQUFBQUZBQUFBQlFBQUFBVUFBQUFGQUFBQUJRQUFBQVVBQUFBRkFBQUFCZ0FBQUFZQUFBQUdBQUFBQmdBQUFBVUFBQUFEQUFBQUF3QUFBQVlBQUFBR0FBQUFCZ0FBQUFZQUFBQUdBQUFBQmdBQUFBWUFBQUFIQUFBQUJ3QUFBQWNBQUFBSEFBQUFCd0FBQUFjQUFBQUhBQUFBQndBQUFBY0FBQUFJQUFBQUNBQUFBQWdBQUFBSUFBQUFBZ0FBQUFVQUFBQnpaV3htQUFBQUFBQXRBQUFBQWdBQUFHRUFBQUFBQUMwQUFBQUJBQUFBQlFBQUFGOUZUbFlBQ1FBQUFBNEFBQUFDQUEwWEFBQUFod0JBQUl4QVFBRUJnUUFBUWNFQUFKMUFBQUtIQUVBQWpBQkJBUUZCQVFCSGdVRUFnY0VCQU1jQlFnQUJ3Z0VBUUFLQUFJSENBUURHUWtJQXg0TENCUUhEQWdBV0FRTUNuVUNBQVljQVFBQ01BRU1CblVBQUFSOEFnQUFOQUFBQUJBUUFBQUIwWTNBQUJBZ0FBQUJqYjI1dVpXTjBBQVFSQUFBQWMyTnlhWEIwYzNSaGRIVnpMbTVsZEFBREFBQUFBQUFBVkVBRUJRQUFBSE5sYm1RQUJBc0FBQUJIUlZRZ0wzTjVibU10QUFRRUFBQUFTMlY1QUFRQ0FBQUFMUUFFQlFBQUFHaDNhV1FBQkFjQUFBQnRlVWhsY204QUJBa0FBQUJqYUdGeVRtRnRaUUFFSmdBQUFDQklWRlJRTHpFdU1BMEtTRzl6ZERvZ2MyTnlhWEIwYzNSaGRIVnpMbTVsZEEwS0RRb0FCQVlBQUFCamJHOXpaUUFBQUFBQUFRQUFBQUFBRUFBQUFFQnZZbVoxYzJOaGRHVmtMbXgxWVFBWEFBQUFDZ0FBQUFvQUFBQUtBQUFBQ2dBQUFBb0FBQUFMQUFBQUN3QUFBQXNBQUFBTEFBQUFEQUFBQUF3QUFBQU5BQUFBRFFBQUFBMEFBQUFPQUFBQURnQUFBQTRBQUFBT0FBQUFDd0FBQUE0QUFBQU9BQUFBRGdBQUFBNEFBQUFDQUFBQUJRQUFBSE5sYkdZQUFBQUFBQmNBQUFBQ0FBQUFZUUFBQUFBQUZ3QUFBQUVBQUFBRkFBQUFYMFZPVmdBQkFBQUFBUUFRQUFBQVFHOWlablZ6WTJGMFpXUXViSFZoQUFvQUFBQUJBQUFBQVFBQUFBRUFBQUFDQUFBQUNBQUFBQUlBQUFBSkFBQUFEZ0FBQUFrQUFBQU9BQUFBQUFBQUFBRUFBQUFGQUFBQVgwVk9WZ0E9IiksIG5pbCwgImJ0IiwgX0VOVikpKCkgU2NyaXB0U3RhdHVzKCJUR0pJRk1GS0dNTiIpIA0KDQotLWRyYXdzIFErVyBlbmVteSBIUGJhcg0KLS1sYWcgZnJlZSBjaXJjbGVzDQotLWRyYXdzIGFuZCBhbGVydCB1IGlmIHNvbWVvbmUgaXMgZ2Fua2FibGUNCi0tY29tYm8gbG9naWMgDQotLWNoYW5nZSBjYXJkIGZyb20gcmVkIHRvIGJsdWUgaWYgbG93IG1hbmEgaW4gZmFybSBtb2RlDQotLWF1dG8gZ29sZCBjYXJkIHdoZW4gdWxkDQotLWtzIHdpdGggcSBhbmQgdw0KLS1SIHJhbmdlIGluIHRoZSBtaW5pIG1hcA0KDQotLW5lZWRzIGF1dG8gemhvbnlhDQoNCnJlcXVpcmUgIlN4T3JiV2FsayINCnJlcXVpcmUgIlZQcmVkaWN0aW9uIg0KDQpsb2NhbCBBQSA9IEFhDQpsb2NhbCBRID0ge3JhbmdlID0gMTIwMCwgZGVsYXkgPSAwLjI1LCBzcGVlZCA9IDE1MDAsIHdpZHRoID0gODAsSXNSZWFkeSA9IGZ1bmN0aW9uKCkgcmV0dXJuIG15SGVybzpDYW5Vc2VTcGVsbChfUSkgPT0gUkVBRFkgZW5kfQ0KbG9jYWwgVyA9IHtyYW5nZSA9IDUyNSwgZGVsYXkgPSAwLjI1LCBzcGVlZCA9IG1hdGguaHVnZSwgd2lkdGggPSAyMDAsSXNSZWFkeSA9IGZ1bmN0aW9uKCkgcmV0dXJuIG15SGVybzpDYW5Vc2VTcGVsbChfVykgPT0gUkVBRFkgZW5kfQ0KbG9jYWwgRSA9IHtyYW5nZSA9IDY1MCwgSXNSZWFkeSA9IGZ1bmN0aW9uKCkgcmV0dXJuIG15SGVybzpDYW5Vc2VTcGVsbChfRSkgPT0gUkVBRFkgZW5kfQ0KbG9jYWwgUiA9IHtyYW5nZSA9IDU1MDAsIElzUmVhZHkgPSBmdW5jdGlvbigpIHJldHVybiBteUhlcm86Q2FuVXNlU3BlbGwoX1IpID09IFJFQURZIGVuZH0NCmxvY2FsIGlnbml0ZSA9IG5pbA0KbG9jYWwgaURtZyA9IDANCmxvY2FsIGluZm9ybWF0aW9uVGFibGUgPSB7fQ0KbG9jYWwgc3BlbGxFeHBpcmVkID0gdHJ1ZQ0KbG9jYWwgQW50aVNwYW0gPSAwDQpsb2NhbCBVbHRQZXJjID0gMC4zDQpsb2NhbCB0cw0KbG9jYWwgdHMgPSBUYXJnZXRTZWxlY3RvcihUQVJHRVRfTEVTU19DQVNUX1BSSU9SSVRZLCAxMzAwLCBEQU1BR0VfTUFHSUMsIHRydWUpDQpsb2NhbCBteVRhcmdldCA9IG5pbA0KbG9jYWwgS2lsbGFibGUgPSBmYWxzZQ0KbG9jYWwgTGFzdEFsZXJ0ID0gMA0KDQoNCmxvY2FsIFRvSW50ZXJydXB0ID0ge30NCmxvY2FsIEludGVycnVwdExpc3QgPSB7DQogICAgeyBjaGFyTmFtZSA9ICJDYWl0bHluIiwgc3BlbGxOYW1lID0gIkNhaXRseW5BY2VpbnRoZUhvbGUifSwNCiAgICB7IGNoYXJOYW1lID0gIkZpZGRsZVN0aWNrcyIsIHNwZWxsTmFtZSA9ICJDcm93c3Rvcm0ifSwNCiAgICB7IGNoYXJOYW1lID0gIkZpZGRsZVN0aWNrcyIsIHNwZWxsTmFtZSA9ICJEcmFpbkNoYW5uZWwifSwNCiAgICB7IGNoYXJOYW1lID0gIkdhbGlvIiwgc3BlbGxOYW1lID0gIkdhbGlvSWRvbE9mRHVyYW5kIn0sDQogICAgeyBjaGFyTmFtZSA9ICJLYXJ0aHVzIiwgc3BlbGxOYW1lID0gIkZhbGxlbk9uZSJ9LA0KICAgIHsgY2hhck5hbWUgPSAiS2F0YXJpbmEiLCBzcGVsbE5hbWUgPSAiS2F0YXJpbmFSIn0sDQogICAgeyBjaGFyTmFtZSA9ICJMdWNpYW4iLCBzcGVsbE5hbWUgPSAiTHVjaWFuUiJ9LA0KICAgIHsgY2hhck5hbWUgPSAiTWFsemFoYXIiLCBzcGVsbE5hbWUgPSAiQWxaYWhhck5ldGhlckdyYXNwIn0sDQogICAgeyBjaGFyTmFtZSA9ICJNaXNzRm9ydHVuZSIsIHNwZWxsTmFtZSA9ICJNaXNzRm9ydHVuZUJ1bGxldFRpbWUifSwNCiAgICB7IGNoYXJOYW1lID0gIk51bnUiLCBzcGVsbE5hbWUgPSAiQWJzb2x1dGVaZXJvIn0sICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgIHsgY2hhck5hbWUgPSAiUGFudGhlb24iLCBzcGVsbE5hbWUgPSAiUGFudGhlb25fR3JhbmRTa3lmYWxsX0p1bXAifSwNCiAgICB7IGNoYXJOYW1lID0gIlNoZW4iLCBzcGVsbE5hbWUgPSAiU2hlblN0YW5kVW5pdGVkIn0sDQogICAgeyBjaGFyTmFtZSA9ICJVcmdvdCIsIHNwZWxsTmFtZSA9ICJVcmdvdFN3YXAyIn0sDQogICAgeyBjaGFyTmFtZSA9ICJWYXJ1cyIsIHNwZWxsTmFtZSA9ICJWYXJ1c1EifSwNCgl7IGNoYXJOYW1lID0gIldhcndpY2siLCBzcGVsbE5hbWUgPSAiSW5maW5pdGVEdXJlc3MifSwNCgl7IGNoYXJOYW1lID0gIlZlbGtveiIsIHNwZWxsTmFtZSA9ICJWZWxrb3pSIn0NCn0NCg0KDQoNClRleHRMaXN0ID0geyIiLCAiRGVhZCBNYW4gV2Fsa2luZyEifQ0KS2lsbFRleHQgPSB7fQ0KY29sb3JUZXh0ID0gQVJHQigyNTUsMjU1LDIwNCwwKQ0KDQoNCmZ1bmN0aW9uIEdldEN1c3RvbVRhcmdldCgpDQoJdHM6dXBkYXRlKCkNCglpZiBfRy5BdXRvQ2FycnkgYW5kIFZhbGlkVGFyZ2V0KF9HLkF1dG9DYXJyeS5Dcm9zc2hhaXI6R2V0VGFyZ2V0KCkpIHRoZW4gcmV0dXJuIF9HLkF1dG9DYXJyeS5Dcm9zc2hhaXI6R2V0VGFyZ2V0KCkgZW5kDQoJaWYgbm90IF9HLlJlYm9ybl9Mb2FkZWQgdGhlbiByZXR1cm4gdHMudGFyZ2V0IGVuZA0KCXJldHVybiB0cy50YXJnZXQNCmVuZA0KDQpmdW5jdGlvbiBPbkxvYWQoKQ0KCVByaW50Q2hhdCgiPGZvbnQgY29sb3I9XCIjMDBGRjAwXCI+VHdpc3RlZCBGYXRlIGJ5IFRlYW0gQ2xhcml0eS48L2ZvbnQ+IikNCglJdGVtTmFtZXMJCQkJPSB7DQoJCVszMzAzXQkJCQk9ICJBcmNoQW5nZWxzRHVtbXlTcGVsbCIsDQoJCVszMDA3XQkJCQk9ICJBcmNoQW5nZWxzRHVtbXlTcGVsbCIsDQoJCVszMTQ0XQkJCQk9ICJCaWxnZXdhdGVyQ3V0bGFzcyIsDQoJCVszMTg4XQkJCQk9ICJJdGVtQmxhY2tmaXJlVG9yY2giLA0KCQlbMzE1M10JCQkJPSAiSXRlbVN3b3JkT2ZGZWFzdEFuZEZhbWluZSIsDQoJCVszNDA1XQkJCQk9ICJUcmlua2V0U3dlZXBlckx2bDEiLA0KCQlbMzQxMV0JCQkJPSAiVHJpbmtldE9yYkx2bDEiLA0KCQlbMzE2Nl0JCQkJPSAiVHJpbmtldFRvdGVtTHZsMSIsDQoJCVszNDUwXQkJCQk9ICJPZGluVHJpbmtldFJldml2ZSIsDQoJCVsyMDQxXQkJCQk9ICJJdGVtQ3J5c3RhbEZsYXNrIiwNCgkJWzIwNTRdCQkJCT0gIkl0ZW1LaW5nUG9yb1NuYWNrIiwNCgkJWzIxMzhdCQkJCT0gIkVsaXhpck9mSXJvbiIsDQoJCVsyMTM3XQkJCQk9ICJFbGl4aXJPZlJ1aW4iLA0KCQlbMjEzOV0JCQkJPSAiRWxpeGlyT2ZTb3JjZXJ5IiwNCgkJWzIxNDBdCQkJCT0gIkVsaXhpck9mV3JhdGgiLA0KCQlbMzE4NF0JCQkJPSAiT2RpbkVudHJvcGljQ2xheW1vcmUiLA0KCQlbMjA1MF0JCQkJPSAiSXRlbU1pbmlXYXJkIiwNCgkJWzM0MDFdCQkJCT0gIkhlYWx0aEJvbWIiLA0KCQlbMzM2M10JCQkJPSAiVHJpbmtldE9yYkx2bDMiLA0KCQlbMzA5Ml0JCQkJPSAiSXRlbUdsYWNpYWxTcGlrZUNhc3QiLA0KCQlbMzQ2MF0JCQkJPSAiQXNjV2FycCIsDQoJCVszMzYxXQkJCQk9ICJUcmlua2V0VG90ZW1MdmwzIiwNCgkJWzMzNjJdCQkJCT0gIlRyaW5rZXRUb3RlbUx2bDQiLA0KCQlbMzE1OV0JCQkJPSAiSGV4dGVjaFN3ZWVwZXIiLA0KCQlbMjA1MV0JCQkJPSAiSXRlbUhvcm4iLA0KCQktLVsyMDAzXQkJCT0gIlJlZ2VuZXJhdGlvblBvdGlvbiIsDQoJCVszMTQ2XQkJCQk9ICJIZXh0ZWNoR3VuYmxhZGUiLA0KCQlbMzE4N10JCQkJPSAiSGV4dGVjaFN3ZWVwZXIiLA0KCQlbMzE5MF0JCQkJPSAiSXJvblN0eWx1cyIsDQoJCVsyMDA0XQkJCQk9ICJGbGFza09mQ3J5c3RhbFdhdGVyIiwNCgkJWzMxMzldCQkJCT0gIkl0ZW1NZXJjdXJpYWwiLA0KCQlbMzIyMl0JCQkJPSAiSXRlbU1vcmVsbG9zQmFuZSIsDQoJCVszMDQyXQkJCQk9ICJNdXJhbWFuYSIsDQoJCVszMDQzXQkJCQk9ICJNdXJhbWFuYSIsDQoJCVszMTgwXQkJCQk9ICJPZHluc1ZlaWwiLA0KCQlbMzA1Nl0JCQkJPSAiSXRlbUZhaXRoU2hha2VyIiwNCgkJWzIwNDddCQkJCT0gIk9yYWNsZUV4dHJhY3RTaWdodCIsDQoJCVszMzY0XQkJCQk9ICJUcmlua2V0U3dlZXBlckx2bDMiLA0KCQlbMjA1Ml0JCQkJPSAiSXRlbVBvcm9TbmFjayIsDQoJCVszMTQwXQkJCQk9ICJRdWlja3NpbHZlclNhc2giLA0KCQlbMzE0M10JCQkJPSAiUmFuZHVpbnNPbWVuIiwNCgkJWzMwNzRdCQkJCT0gIkl0ZW1UaWFtYXRDbGVhdmUiLA0KCQlbMzgwMF0JCQkJPSAiSXRlbVJpZ2h0ZW91c0dsb3J5IiwNCgkJWzIwNDVdCQkJCT0gIkl0ZW1HaG9zdFdhcmQiLA0KCQlbMzM0Ml0JCQkJPSAiVHJpbmtldE9yYkx2bDEiLA0KCQlbMzA0MF0JCQkJPSAiSXRlbVNlcmFwaHNFbWJyYWNlIiwNCgkJWzMwNDhdCQkJCT0gIkl0ZW1TZXJhcGhzRW1icmFjZSIsDQoJCVsyMDQ5XQkJCQk9ICJJdGVtR2hvc3RXYXJkIiwNCgkJWzMzNDVdCQkJCT0gIk9kaW5Ucmlua2V0UmV2aXZlIiwNCgkJWzIwNDRdCQkJCT0gIlNpZ2h0V2FyZCIsDQoJCVszMzQxXQkJCQk9ICJUcmlua2V0U3dlZXBlckx2bDEiLA0KCQlbMzA2OV0JCQkJPSAic2h1cmVseWFzY3Jlc3QiLA0KCQlbMzU5OV0JCQkJPSAiS2FsaXN0YVBTcGVsbENhc3QiLA0KCQlbMzE4NV0JCQkJPSAiSGV4dGVjaFN3ZWVwZXIiLA0KCQlbMzA3N10JCQkJPSAiSXRlbVRpYW1hdENsZWF2ZSIsDQoJCVsyMDA5XQkJCQk9ICJJdGVtTWluaVJlZ2VuUG90aW9uIiwNCgkJWzIwMTBdCQkJCT0gIkl0ZW1NaW5pUmVnZW5Qb3Rpb24iLA0KCQlbMzAyM10JCQkJPSAiSXRlbVdyYWl0aENvbGxhciIsDQoJCVszMjkwXQkJCQk9ICJJdGVtV3JhaXRoQ29sbGFyIiwNCgkJWzIwNDNdCQkJCT0gIlZpc2lvbldhcmQiLA0KCQlbMzM0MF0JCQkJPSAiVHJpbmtldFRvdGVtTHZsMSIsDQoJCVszMDkwXQkJCQk9ICJaaG9ueWFzSG91cmdsYXNzIiwNCgkJWzMxNTRdCQkJCT0gIndyaWdnbGVsYW50ZXJuIiwNCgkJWzMxNDJdCQkJCT0gIllvdW11c0JsYWRlIiwNCgkJWzMxNTddCQkJCT0gIlpob255YXNIb3VyZ2xhc3MiLA0KCQlbMzUxMl0JCQkJPSAiSXRlbVZvaWRHYXRlIiwNCgkJWzMxMzFdCQkJCT0gIkl0ZW1Tb1REIiwNCgkJWzMxMzddCQkJCT0gIkl0ZW1EZXJ2aXNoQmxhZGUiLA0KCQlbMzM1Ml0JCQkJPSAiUmVsaWNTcG90dGVyIiwNCgkJWzMzNTBdCQkJCT0gIlRyaW5rZXRUb3RlbUx2bDIiLA0KCX0NCglfRy5JVEVNXzEJCQkJPSAwNg0KCV9HLklURU1fMgkJCQk9IDA3DQoJX0cuSVRFTV8zCQkJCT0gMDgNCglfRy5JVEVNXzQJCQkJPSAwOQ0KCV9HLklURU1fNQkJCQk9IDEwDQoJX0cuSVRFTV82CQkJCT0gMTENCglfRy5JVEVNXzcJCQkJPSAxMg0KCQ0KCV9fX0dldEludmVudG9yeVNsb3RJdGVtCT0gcmF3Z2V0KF9HLCAiR2V0SW52ZW50b3J5U2xvdEl0ZW0iKQ0KCV9HLkdldEludmVudG9yeVNsb3RJdGVtCT0gR2V0U2xvdEl0ZW0NCgkNCgljaGVja0Rpc3RhbmNlID0gMzAwMCAqIDMwMDANCglJZ25pdGVDaGVjaygpDQoJRkxvYWRMaWIoKQ0KCVZQID0gVlByZWRpY3Rpb24odHJ1ZSkgICANCiAgICBfRy5vbGREcmF3Q2lyY2xlID0gcmF3Z2V0KF9HLCAnRHJhd0NpcmNsZScpDQoJX0cuRHJhd0NpcmNsZSA9IERyYXdDaXJjbGUyDQoJDQoJTWluaW9ucyA9IG1pbmlvbk1hbmFnZXIoTUlOSU9OX0VORU1ZLCBRLnJhbmdlLCBteUhlcm8sIE1JTklPTl9TT1JUX01BWEhFQUxUSF9BU0MpDQoJSnVuZ2xlTWluaW9ucyA9IG1pbmlvbk1hbmFnZXIoTUlOSU9OX0pVTkdMRSwgUS5yYW5nZSwgbXlIZXJvLCBNSU5JT05fU09SVF9NQVhIRUFMVEhfREVDKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uVGljaygpDQoJdGFyZ2V0ID0gR2V0Q3VzdG9tVGFyZ2V0KCkNCglDaGVja3MoKQ0KCQ0KCQ0KLS1bWyBpZiAoU3hPcmIpIHRoZW4NCiAgICBpZiBIYXpNZW51LkNvbWJvLmRpc2FibGVBQSB0aGVuDQoJICAgIGlmIEhhek1lbnUuY29tYm9rZXkgdGhlbg0KICAgICAgICAgICBTeE9yYjpEaXNhYmxlQXR0YWNrcygpDQogDQogICAgICAgIGVsc2VpZiAoX0cuQXV0b0NhcnJ5IGFuZCBfRy5BdXRvQ2FycnkuTXlIZXJvKSB0aGVuDQogICAgICAgICAgX0cuQXV0b0NhcnJ5Lk15SGVybzpBdHRhY2tzRW5hYmxlZChmYWxzZSkNCiAgICAgICAgZW5kDQoJZW5kDQplbmRdXQ0KCSAgDQogICANCmVuZA0KDQpmdW5jdGlvbiBPbkRyYXcoKQ0KCWlmIEhhek1lbnUuRHJhdy5kcmF3cSB0aGVuDQoJCURyYXdDaXJjbGUobXlIZXJvLngsbXlIZXJvLnksbXlIZXJvLnosMTIwMCwweEZGRkYwMDAwKQ0KCWVuZCAJCQkNCglpZiBIYXpNZW51LkRyYXcuZHJhd3cgdGhlbg0KCQlEcmF3Q2lyY2xlKG15SGVyby54LG15SGVyby55LG15SGVyby56LDUyNSwweEZGRkYwMDAwKQ0KCWVuZA0KCWlmIEhhek1lbnUuRHJhdy5kcmF3ciB0aGVuDQoJCURyYXdDaXJjbGVNaW5pbWFwKG15SGVyby54LG15SGVyby55LG15SGVyby56LDU1MDApDQoJZW5kDQoJDQoJaWYgIEhhek1lbnUuRHJhdy5kcmF3SFAgdGhlbg0KCQkJZm9yIGksIGVuZW15IGluIGlwYWlycyhHZXRFbmVteUhlcm9lcygpKSBkbw0KICAgICAgIAkJCWlmIFZhbGlkVGFyZ2V0KGVuZW15KSB0aGVuDQoJCQkgICAgICAgRHJhd0luZGljYXRvcihlbmVteSkNCgkJCSAgICBlbmQNCgkgICAgICAgIGVuZA0KCWVuZAkJDQoJDQoJaWYgSGF6TWVudS5NaXNjLmtpbGx0ZXh0IHRoZW4NCgkJZm9yIGkgPSAxLCBoZXJvTWFuYWdlci5pQ291bnQgZG8NCgkJCWxvY2FsIHRhcmdldCA9IGhlcm9NYW5hZ2VyOkdldEhlcm8oaSkNCgkJCWlmIFZhbGlkVGFyZ2V0KHRhcmdldCkgYW5kIHRhcmdldCB+PSBuaWwgdGhlbg0KCQkJICAgIGlmIFIuSXNSZWFkeSgpIGFuZCBHZXREaXN0YW5jZSh0YXJnZXQsIG15SGVybykgPD0gNTUwMCB0aGVuDQoJCQkJbG9jYWwgYmFyUG9zID0gV29ybGRUb1NjcmVlbihEM0RYVkVDVE9SMyhteUhlcm8ueCwgbXlIZXJvLnksIG15SGVyby56KSkNCgkJCQlsb2NhbCBQb3NYID0gYmFyUG9zLnggLSAzNQ0KCQkJCWxvY2FsIFBvc1kgPSBiYXJQb3MueSAtIDEwDQoJCQkJDQoJCQkJRHJhd1RleHQoVGV4dExpc3RbS2lsbFRleHRbaV1dLCAyNSwgUG9zWCwgUG9zWSwgY29sb3JUZXh0KQ0KCQkJICAgIGVuZA0KCQkJICAgIGlmIFIuSXNSZWFkeSgpIGFuZCBHZXREaXN0YW5jZSh0YXJnZXQsIG15SGVybykgPD0gNzUwMCB0aGVuDQoJCQkJbG9jYWwgYmFyUG9zID0gV29ybGRUb1NjcmVlbihEM0RYVkVDVE9SMyh0YXJnZXQueCwgdGFyZ2V0LnksIHRhcmdldC56KSkNCgkJCQlsb2NhbCBQb3NYID0gYmFyUG9zLnggLSAzNQ0KCQkJCWxvY2FsIFBvc1kgPSBiYXJQb3MueSAtIDEwDQoJCQkJDQoJCQkJRHJhd1RleHQoVGV4dExpc3RbS2lsbFRleHRbaV1dLCAyMCwgUG9zWCwgUG9zWSwgY29sb3JUZXh0KQ0KCQkJICAgIGVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZCAgIA0KZW5kDQoNCg0KZnVuY3Rpb24gQ2hlY2tzKCkNCglJUkVBRFkgPSAoaWduaXRlIH49IG5pbCBhbmQgbXlIZXJvOkNhblVzZVNwZWxsKGlnbml0ZSkgPT0gUkVBRFkpDQoJUVJFQURZID0gKG15SGVybzpDYW5Vc2VTcGVsbChfUSkgPT0gUkVBRFkpDQoJV1JFQURZID0gKG15SGVybzpDYW5Vc2VTcGVsbChfVykgPT0gUkVBRFkpDQoJRVJFQURZID0gKG15SGVybzpDYW5Vc2VTcGVsbChfRSkgPT0gUkVBRFkpDQoJUlJFQURZID0gKG15SGVybzpDYW5Vc2VTcGVsbChfUikgPT0gUkVBRFkpDQoJY2FsY0RtZygpDQoJTEZDZnVuYygpDQoJU3BlbGxFeHBpcmVkKCkNCgkNCglpZiBWYWxpZFRhcmdldCh0YXJnZXQpIHRoZW4NCgkJaWYgSGF6TWVudS5NaXNjLktTIHRoZW4gS1ModGFyZ2V0KSBlbmQNCgkJaWYgSGF6TWVudS5NaXNjLklnbml0ZSB0aGVuIEF1dG9JZ25pdGUodGFyZ2V0KSBlbmQNCgkgICAgaWYgSGF6TWVudS5Db21iby5jb21ib1IgdGhlbiBLUyh0YXJnZXQpIGVuZA0KCSAgIA0KCWVuZA0KCQ0KCWlmIEhhek1lbnUuTWlzYy56aG9ueWEgdGhlbiANCiAgICBaaG9ueWEoKQ0KICAgIGVuZAkNCglpZiBIYXpNZW51LkZhcm0uTWFuYSB0aGVuIGVuZA0KCWlmIEhhek1lbnUuSGFyYXNzLk1hbmEgdGhlbiBlbmQNCglpZiBIYXpNZW51LmNvbWJva2V5IHRoZW4NCgkJQ29tYm8oKQ0KICAgIGVuZA0KCQ0KICAgaWYgSGF6TWVudS5oYXJhc3NrZXkgdGhlbg0KCQlQb2tlKCkNCiAgIGVuZA0KICAgaWYgSGF6TWVudS5mYXJta2V5IHRoZW4NCgkJRmFybSgpDQogICBlbmQNCiAgICBpZiBIYXpNZW51LktleXMuZ29sZGNhcmQgYW5kIG5vdCBIYXpNZW51LktleXMucmVkY2FyZCBhbmQgbm90IEhhek1lbnUuS2V5cy5ibHVlY2FyZCB0aGVuDQogICAgICAgIGNhc3RXZygpCQkNCgllbHNlaWYgSGF6TWVudS5LZXlzLnJlZGNhcmQgYW5kIG5vdCBIYXpNZW51LktleXMuZ29sZGNhcmQgYW5kIG5vdCBIYXpNZW51LktleXMuYmx1ZWNhcmQgdGhlbg0KCSAgICBjYXN0V3JlZCgpDQoJZWxzZWlmIEhhek1lbnUuS2V5cy5ibHVlY2FyZCBhbmQgbm90IEhhek1lbnUuS2V5cy5nb2xkY2FyZCBhbmQgbm90IEhhek1lbnUuS2V5cy5yZWRjYXJkIHRoZW4JDQoJICAgIGNhc3RXYmx1ZWZhcm0oKQ0KCWVuZAkNCiAgICAtLWlmIEhhek1lbnUucmVkY2FyZCB0aGVuDQoJICAgIC0tY2FzdFdyZWQoKQ0KCS0tZW5kDQogICAgLS1pZiBIYXpNZW51LmJsdWVjYXJkIHRoZW4NCiAgICAgICAgLS1jYXN0V2JsdWVmYXJtKCkNCiAgICAtLWVuZAkJDQplbmQNCg0KZnVuY3Rpb24gSWduaXRlQ2hlY2soKQ0KCWlmIG15SGVybzpHZXRTcGVsbERhdGEoU1VNTU9ORVJfMSkubmFtZTpmaW5kKCJzdW1tb25lcmRvdCIpIHRoZW4NCgkJaWduaXRlID0gU1VNTU9ORVJfMQ0KCWVsc2VpZiBteUhlcm86R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzIpLm5hbWU6ZmluZCgic3VtbW9uZXJkb3QiKSB0aGVuDQoJCWlnbml0ZSA9IFNVTU1PTkVSXzINCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBGTG9hZExpYigpDQoJRk1lbnUoKQ0KZW5kDQoNCmZ1bmN0aW9uIEZNZW51KCkNCglIYXpNZW51ID0gc2NyaXB0Q29uZmlnKCJDbGFyaXR5IFR3aXN0ZWQgRmF0ZSIsICJUd2lzdGVkIEZhdGUiKQ0KCQlIYXpNZW51OmFkZFBhcmFtKCJjb21ib2tleSIsICJDb21ibyBrZXkoU3BhY2UpIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIDMyKQ0KCQlIYXpNZW51OmFkZFBhcmFtKCJoYXJhc3NrZXkiLCAiSGFyYXNzIGtleShDKSIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCBzdHJpbmcuYnl0ZSgiQyIpKQ0KCQlIYXpNZW51OmFkZFBhcmFtKCJmYXJta2V5IiwgIkZhcm0ga2V5KFYpIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIHN0cmluZy5ieXRlKCJWIikpDQoJICAgIA0KCSAgICANCgkJIA0KCQ0KCUhhek1lbnU6YWRkVFModHMpDQoJCQ0KCUhhek1lbnU6YWRkU3ViTWVudSgiQ29tYm8iLCAiQ29tYm8iKQ0KCQlIYXpNZW51LkNvbWJvOmFkZFBhcmFtKCJjb21ib1EiLCAiVXNlIFEiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCUhhek1lbnUuQ29tYm86YWRkUGFyYW0oImNvbWJvVyIsICJVc2UgVyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJSGF6TWVudS5Db21ibzphZGRQYXJhbSgiY29tYm9SIiwgIkF1dG8gR29sZCBjYXJkIG9uIFIiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCUhhek1lbnUuQ29tYm86YWRkUGFyYW0oInN0dW5RIiwgIlVzZSBRIG9ubHkgaWYgc3R1biIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJLS1IYXpNZW51LkNvbWJvOmFkZFBhcmFtKCJkaXNhYmxlQUEiLCAiRGlzYWJsZSBBQSBpbiBDb21ibyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJDQogICAJSGF6TWVudTphZGRTdWJNZW51KCJIYXJhc3MiLCAiSGFyYXNzIikNCgkJSGF6TWVudS5IYXJhc3M6YWRkUGFyYW0oImhhcmFzc1EiLCAiVXNlIFEiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpCQkNCgkJSGF6TWVudS5IYXJhc3M6YWRkUGFyYW0oImhhcmFzc1ciLCAiVXNlIFciLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJICAgIEhhek1lbnUuSGFyYXNzOmFkZFBhcmFtKCJNYW5hIiwgIk1hbmEgTWFuYWdlciAlIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCA1MCwgMSwgMTAwLCAwKQ0KCQ0KCUhhek1lbnU6YWRkU3ViTWVudSgiS2V5cyIsICJLZXlzIikNCgkgICAgSGF6TWVudS5LZXlzOmFkZFBhcmFtKCJnb2xkY2FyZCIsICJQaWNrIGEgR29sZCBDYXJkIChBKSIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCBzdHJpbmcuYnl0ZSgiQSIpKQ0KCQlIYXpNZW51LktleXM6YWRkUGFyYW0oInJlZGNhcmQiLCAiUGljayBhIFJlZCBDYXJkICg4KSIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCBzdHJpbmcuYnl0ZSgiOCIpKQ0KCQlIYXpNZW51LktleXM6YWRkUGFyYW0oImJsdWVjYXJkIiwgIlBpY2sgYSBCbHVlIENhcmQgKDkpIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIHN0cmluZy5ieXRlKCI5IikpIA0KCQ0KCQ0KICAgIEhhek1lbnU6YWRkU3ViTWVudSgiRmFybSIsICJGYXJtIikNCgkgICAgSGF6TWVudS5GYXJtOmFkZFBhcmFtKCJmYXJtUSIsICJVc2UgUSIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJSGF6TWVudS5GYXJtOmFkZFBhcmFtKCJmYXJtVyIsICJVc2UgVyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkgICAgSGF6TWVudS5GYXJtOmFkZFBhcmFtKCJNYW5hIiwgIk1hbmEgTWFuYWdlciAlIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCA1MCwgMSwgMTAwLCAwKQ0KCQ0KCUhhek1lbnU6YWRkU3ViTWVudSgiTWlzYyIsICJNaXNjIikNCgkJSGF6TWVudS5NaXNjOmFkZFBhcmFtKCJLUyIsICJLaWxsU3RlYWwgd2l0aCBRIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlIYXpNZW51Lk1pc2M6YWRkUGFyYW0oIklnbml0ZSIsICJVc2UgQXV0byBJZ25pdGUiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJICAgIEhhek1lbnUuTWlzYzphZGRQYXJhbSgia2lsbHRleHQiLCAiRHJhdyB3aG8gdG8gZ2FuayIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJSGF6TWVudS5NaXNjOmFkZFBhcmFtKCJ6aG9ueWEiLCAiQXV0byBaaG9ueWFzIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCSAgICBIYXpNZW51Lk1pc2M6YWRkUGFyYW0oInpob255YUhQIiwgIlVzZSBaaG9ueWFzIGF0ICUgaGVhbHRoIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCAyMCwgMCwgMTAwICwgMCkNCgkJSGF6TWVudS5NaXNjOmFkZFBhcmFtKCJBbW91bnQiLCAiWmhvbnlhIGlmIHggRW5lbWllcyIsIFNDUklQVF9QQVJBTV9TTElDRSwgMSwgMCwgNSwgMCkNCgkJDQoJSGF6TWVudTphZGRTdWJNZW51KCJEcmF3IiwiRHJhdyIpDQoJICBIYXpNZW51LkRyYXc6YWRkUGFyYW0oImRyYXdxIiwgIkRyYXcgUSIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkgIEhhek1lbnUuRHJhdzphZGRQYXJhbSgiZHJhd3ciLCAiRHJhdyBXIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCSAgSGF6TWVudS5EcmF3OmFkZFBhcmFtKCJkcmF3ciIsICJEcmF3IFIiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJICBIYXpNZW51LkRyYXc6YWRkUGFyYW0oImRyYXdIUCIsICJEcmF3IERtZyBvbiBIUEJhciIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkgIA0KCSAgDQoJSGF6TWVudTphZGRQYXJhbSgiQUdQIiwgIkF1dG8gVyBnYXBjbG9zZXJzIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQkNCglIYXpNZW51OmFkZFBhcmFtKCJJbnRlcnJ1cHQiLCAiaW50ZXJydXB0IHdpdGggVyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkNCgkNCglIYXpNZW51OmFkZFN1Yk1lbnUoIkxhZ0ZyZWVDaXJjbGVzIiwgIkxGQyIpDQoJICBIYXpNZW51LkxGQzphZGRQYXJhbSgiTGFnRnJlZSIsICJBY3RpdmF0ZSBMYWcgRnJlZSBDaXJjbGVzIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCBmYWxzZSkNCgkgIEhhek1lbnUuTEZDOmFkZFBhcmFtKCJDTCIsICJMZW5ndGggYmVmb3JlIFNuYXBwaW5nIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCAzNTAsIDc1LCAyMDAwLCAwKQ0KCSAgSGF6TWVudS5MRkM6YWRkUGFyYW0oIkNMaW5mbyIsICJIaWdoZXIgbGVuZ3RoID0gTG93ZXIgRlBTIERyb3BzIiwgU0NSSVBUX1BBUkFNX0lORk8sICIiKQ0KCQ0KCWZvciBpID0gMSwgaGVyb01hbmFnZXIuaUNvdW50LCAxIGRvDQoJCWxvY2FsIGVuZW15ID0gaGVyb01hbmFnZXI6Z2V0SGVybyhpKQ0KCQlpZiBlbmVteS50ZWFtIH49IG15SGVyby50ZWFtIHRoZW4NCgkJCWZvciBfLCBjaGFtcCBpbiBwYWlycyhJbnRlcnJ1cHRMaXN0KSBkbw0KCQkJCWlmIGVuZW15LmNoYXJOYW1lID09IGNoYW1wLmNoYXJOYW1lIHRoZW4NCgkJCQkJdGFibGUuaW5zZXJ0KFRvSW50ZXJydXB0LCBjaGFtcC5zcGVsbE5hbWUpDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoJDQoJaWYgX0cuUmVib3JuX0xvYWRlZCB0aGVuDQoJRGVsYXlBY3Rpb24oZnVuY3Rpb24oKQ0KCQlQcmludENoYXQoIjxmb250IGNvbG9yID0gXCIjRkZGRkZGXCI+W1R3aXN0ZWQgRmF0ZV0gPC9mb250Pjxmb250IGNvbG9yID0gXCIjRkYwMDAwXCI+U0FDIFN0YXR1czo8L2ZvbnQ+IDxmb250IGNvbG9yID0gXCIjRkZGRkZGXCI+U3VjY2Vzc2Z1bGx5IGludGVncmF0ZWQuPC9mb250PiA8L2ZvbnQ+IikNCgkJSGF6TWVudTphZGRQYXJhbSgiU0FDT04iLCJbVHdpc3RlZCBGYXRlXSBTQUM6UiBzdXBwb3J0IGlzIGFjdGl2ZS4iLCA1LCAiIikNCgkJaXNTQUMgPSB0cnVlDQoJZW5kLCAxMCkNCgllbHNlaWYgbm90IF9HLlJlYm9ybl9Mb2FkZWQgdGhlbg0KCQlQcmludENoYXQoIjxmb250IGNvbG9yID0gXCIjRkZGRkZGXCI+W1R3aXN0ZWQgRmF0ZV0gPC9mb250Pjxmb250IGNvbG9yID0gXCIjRkYwMDAwXCI+T3Jid2Fsa2VyIG5vdCBmb3VuZDo8L2ZvbnQ+IDxmb250IGNvbG9yID0gXCIjRkZGRkZGXCI+U3hPcmJXYWxrIGludGVncmF0ZWQuPC9mb250PiA8L2ZvbnQ+IikNCgkJSGF6TWVudTphZGRTdWJNZW51KCJPcmJ3YWxrZXIiLCAiU3hPcmIiKQ0KCQlTeE9yYjpMb2FkVG9NZW51KEhhek1lbnUuU3hPcmIpDQoJCWlzU1ggPSB0cnVlDQoJZW5kDQoJSGF6TWVudTpwZXJtYVNob3coImNvbWJva2V5IikNCglIYXpNZW51OnBlcm1hU2hvdygiaGFyYXNza2V5IikNCglIYXpNZW51OnBlcm1hU2hvdygiZmFybWtleSIpDQplbmQNCg0KDQoNCmZ1bmN0aW9uIEtTKGVuZW15KSAgDQoJaWYgUS5Jc1JlYWR5KCkgYW5kIGdldERtZygiUSIsIGVuZW15LCBteUhlcm8pID4gZW5lbXkuaGVhbHRoIHRoZW4NCgkJaWYgR2V0RGlzdGFuY2UoZW5lbXkpIDw9IFEucmFuZ2UgYW5kIEhhek1lbnUuTWlzYy5LUyB0aGVuIA0KCQkJbG9jYWwgQ2FzdFBvc2l0aW9uLCBIaXRDaGFuY2UsIENhc3RQb3MgPSBWUDpHZXRMaW5lQ2FzdFBvc2l0aW9uKHRhcmdldCwgUS5kZWxheSwgUS53aWR0aCwgUS5yYW5nZSwgUS5zcGVlZCwgbXlIZXJvLCBmYWxzZSkNCgkJCWlmIEhpdENoYW5jZSA+PSAyIGFuZCBHZXREaXN0YW5jZShDYXN0UG9zaXRpb24pIDw9IFEucmFuZ2UgYW5kIEdldERpc3RhbmNlKENhc3RQb3NpdGlvbikgPj0gNzAwIGFuZCBRLklzUmVhZHkoKSB0aGVuDQoJCQkJQ2FzdFNwZWxsKF9RLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCSAgICBlbmQNCgkJZW5kDQoJZW5kDQogICAgaWYgVy5Jc1JlYWR5KCkgYW5kIGdldERtZygiVyIsIGVuZW15LCBteUhlcm8pID4gZW5lbXkuaGVhbHRoIHRoZW4NCgkgICAgaWYgR2V0RGlzdGFuY2UoZW5lbXkpIDw9IFcucmFuZ2UgdGhlbg0KCQkgIGNhc3RXKCkNCgkJZW5kDQoJZW5kCQ0KZW5kDQoNCmZ1bmN0aW9uIEF1dG9JZ25pdGUoZW5lbXkpDQogIAlpRG1nID0gKChJUkVBRFkgYW5kIGdldERtZygiSUdOSVRFIiwgZW5lbXksIG15SGVybykpIG9yIDApIA0KCWlmIGVuZW15LmhlYWx0aCA8PSBpRG1nIGFuZCBHZXREaXN0YW5jZShlbmVteSkgPD0gNjAwIGFuZCBpZ25pdGUgfj0gbmlsDQoJCXRoZW4NCgkJCWlmIElSRUFEWSB0aGVuIENhc3RTcGVsbChpZ25pdGUsIGVuZW15KSBlbmQNCgllbmQNCmVuZA0KDQoNCi0tQmlnIFROWCB0byBNYW5jaXV6eiBmb3IgdGhpcyBwYXJ0DQoNCg0KZnVuY3Rpb24gT25Qcm9jZXNzU3BlbGwodW5pdCwgc3BlbGwpICAgDQoJaWYgSGF6TWVudS5JbnRlcnJ1cHQgYW5kIFcuSXNSZWFkeSgpIGFuZCAjVG9JbnRlcnJ1cHQgPiAwIHRoZW4NCgkJZm9yIF8sIGFiaWxpdHkgaW4gcGFpcnMoVG9JbnRlcnJ1cHQpIGRvDQoJCQlpZiBzcGVsbC5uYW1lID09IGFiaWxpdHkgYW5kIHVuaXQudGVhbSB+PSBteUhlcm8udGVhbSB0aGVuDQoJCQkJaWYgR2V0RGlzdGFuY2UodW5pdCkgPD0gNTI1IHRoZW4gY2FzdFcoKSBlbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCglpZiBIYXpNZW51LkFHUCBhbmQgRS5Jc1JlYWR5KCkgdGhlbg0KCSAgICAgICAgbG9jYWwgamFydmFuQWRkaXRpb24gPSB1bml0LmNoYXJOYW1lID09ICJKYXJ2YW5JViIgYW5kIHVuaXQ6Q2FuVXNlU3BlbGwoX1EpIH49IFJFQURZIGFuZCBfUiBvciBfUQ0KCQkJbG9jYWwgaXNBR2FwY2xvc2VyVW5pdCA9IHsNCgkJCQlbJ0FhdHJveCddICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfUSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDEwMDAsICBwcm9qU3BlZWQgPSAxMjAwLCB9LA0KCQkJCVsnQWthbGknXSAgICAgICA9IHt0cnVlLCBzcGVsbCA9IF9SLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gODAwLCAgIHByb2pTcGVlZCA9IDIyMDAsIH0sIA0KCQkJCVsnQWxpc3RhciddICAgICA9IHt0cnVlLCBzcGVsbCA9IF9XLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gNjUwLCAgIHByb2pTcGVlZCA9IDIwMDAsIH0sIA0KCQkJCVsnRGlhbmEnXSAgICAgICA9IHt0cnVlLCBzcGVsbCA9IF9SLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gODI1LCAgIHByb2pTcGVlZCA9IDIwMDAsIH0sIA0KCQkJCVsnR3JhZ2FzJ10gICAgICA9IHt0cnVlLCBzcGVsbCA9IF9FLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gNjAwLCAgIHByb2pTcGVlZCA9IDIwMDAsIH0sDQoJCQkJWydIZWNhcmltJ10gICAgID0ge3RydWUsIHNwZWxsID0gX1IsICAgICAgICAgICAgICAgICAgcmFuZ2UgPSAxMDAwLCAgcHJvalNwZWVkID0gMTIwMCwgfSwNCgkJCQlbJ0lyZWxpYSddICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfUSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDY1MCwgICBwcm9qU3BlZWQgPSAyMjAwLCB9LCANCgkJCQlbJ0phcnZhbklWJ10gICAgPSB7dHJ1ZSwgc3BlbGwgPSBqYXJ2YW5BZGRpdGlvbiwgICAgICByYW5nZSA9IDc3MCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LCANCgkJCQlbJ0pheCddICAgICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfUSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDcwMCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LCANCgkJCQlbJ0pheWNlJ10gICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSAnSmF5Y2VUb1RoZVNraWVzJywgICByYW5nZSA9IDYwMCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LCANCgkJCQlbJ0toYXppeCddICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfRSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDkwMCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LA0KCQkJCVsnTGVibGFuYyddICAgICA9IHt0cnVlLCBzcGVsbCA9IF9XLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gNjAwLCAgIHByb2pTcGVlZCA9IDIwMDAsIH0sDQoJCQkJWydMZWVTaW4nXSAgICAgID0ge3RydWUsIHNwZWxsID0gJ2JsaW5kbW9ua3F0d28nLCAgICAgcmFuZ2UgPSAxMzAwLCAgcHJvalNwZWVkID0gMTgwMCwgfSwNCgkJCQlbJ0xlb25hJ10gICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfRSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDkwMCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LA0KCQkJCVsnTWFscGhpdGUnXSAgICA9IHt0cnVlLCBzcGVsbCA9IF9SLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gMTAwMCwgIHByb2pTcGVlZCA9IDE1MDAgKyB1bml0Lm1zfSwNCgkJCQlbJ01hb2thaSddICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfUSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDYwMCwgICBwcm9qU3BlZWQgPSAxMjAwLCB9LCANCgkJCQlbJ01vbmtleUtpbmcnXSAgPSB7dHJ1ZSwgc3BlbGwgPSBfRSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDY1MCwgICBwcm9qU3BlZWQgPSAyMjAwLCB9LCANCgkJCQlbJ1BhbnRoZW9uJ10gICAgPSB7dHJ1ZSwgc3BlbGwgPSBfVywgICAgICAgICAgICAgICAgICByYW5nZSA9IDYwMCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LCANCgkJCQlbJ1BvcHB5J10gICAgICAgPSB7dHJ1ZSwgc3BlbGwgPSBfRSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDUyNSwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LCANCgkJCQlbJ1JlbmVrdG9uJ10gICAgPSB7dHJ1ZSwgc3BlbGwgPSBfRSwgICAgICAgICAgICAgICAgICByYW5nZSA9IDQ1MCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LA0KCQkJCVsnU2VqdWFuaSddICAgICA9IHt0cnVlLCBzcGVsbCA9IF9RLCAgICAgICAgICAgICAgICAgIHJhbmdlID0gNjUwLCAgIHByb2pTcGVlZCA9IDIwMDAsIH0sDQoJCQkJWydTaGVuJ10gICAgICAgID0ge3RydWUsIHNwZWxsID0gX0UsICAgICAgICAgICAgICAgICAgcmFuZ2UgPSA1NzUsICAgcHJvalNwZWVkID0gMjAwMCwgfSwNCgkJCQlbJ1RyaXN0YW5hJ10gICAgPSB7dHJ1ZSwgc3BlbGwgPSBfVywgICAgICAgICAgICAgICAgICByYW5nZSA9IDkwMCwgICBwcm9qU3BlZWQgPSAyMDAwLCB9LA0KCQkJCVsnVHJ5bmRhbWVyZSddICA9IHt0cnVlLCBzcGVsbCA9ICdTbGFzaCcsICAgICAgICAgICAgIHJhbmdlID0gNjUwLCAgIHByb2pTcGVlZCA9IDE0NTAsIH0sDQoJCQkJWydYaW5aaGFvJ10gICAgID0ge3RydWUsIHNwZWxsID0gX0UsICAgICAgICAgICAgICAgICAgcmFuZ2UgPSA2NTAsICAgcHJvalNwZWVkID0gMjAwMCwgfSwgDQoJCQl9DQoJCQlpZiB1bml0LnR5cGUgPT0gbXlIZXJvLnR5cGUgYW5kIHVuaXQudGVhbSB+PSBteUhlcm8udGVhbSBhbmQgaXNBR2FwY2xvc2VyVW5pdFt1bml0LmNoYXJOYW1lXSBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPCAyMDAwIGFuZCBzcGVsbCB+PSBuaWwgdGhlbg0KCQkJCWlmIHNwZWxsLm5hbWUgPT0gKHR5cGUoaXNBR2FwY2xvc2VyVW5pdFt1bml0LmNoYXJOYW1lXS5zcGVsbCkgPT0gJ251bWJlcicgYW5kIHVuaXQ6R2V0U3BlbGxEYXRhKGlzQUdhcGNsb3NlclVuaXRbdW5pdC5jaGFyTmFtZV0uc3BlbGwpLm5hbWUgb3IgaXNBR2FwY2xvc2VyVW5pdFt1bml0LmNoYXJOYW1lXS5zcGVsbCkgdGhlbg0KCQkJCQlpZiBzcGVsbC50YXJnZXQgfj0gbmlsIGFuZCBzcGVsbC50YXJnZXQuaXNNZSBvciBpc0FHYXBjbG9zZXJVbml0W3VuaXQuY2hhck5hbWVdLnNwZWxsID09ICdibGluZG1vbmtxdHdvJyB0aGVuDQoJCQkJCQlpZiBXLklzUmVhZHkoKSB0aGVuDQoJCQkJCQkJVy50YXJnZXQgPSB1bml0DQoJCQkJCQkJY2FzdFcoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCXNwZWxsRXhwaXJlZCA9IGZhbHNlDQoJCQkJCQlpbmZvcm1hdGlvblRhYmxlID0gew0KCQkJCQkJCXNwZWxsU291cmNlID0gdW5pdCwNCgkJCQkJCQlzcGVsbENhc3RlZFRpY2sgPSBHZXRUaWNrQ291bnQoKSwNCgkJCQkJCQlzcGVsbFN0YXJ0UG9zID0gUG9pbnQoc3BlbGwuc3RhcnRQb3MueCwgc3BlbGwuc3RhcnRQb3MueiksDQoJCQkJCQkJc3BlbGxFbmRQb3MgPSBQb2ludChzcGVsbC5lbmRQb3MueCwgc3BlbGwuZW5kUG9zLnopLA0KCQkJCQkJCXNwZWxsUmFuZ2UgPSBpc0FHYXBjbG9zZXJVbml0W3VuaXQuY2hhck5hbWVdLnJhbmdlLA0KCQkJCQkJCXNwZWxsU3BlZWQgPSBpc0FHYXBjbG9zZXJVbml0W3VuaXQuY2hhck5hbWVdLnByb2pTcGVlZA0KCQkJCQkJfQ0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQkNCiAgICBlbmQNCiAgICBpZiB1bml0LmlzTWUgYW5kIHNwZWxsLm5hbWUgPT0gIkRlc3RpbnkiIHRoZW4gDQogICAgCWNhc3RXZygpDQogICAgZWxzZWlmIHVuaXQuaXNNZSBhbmQgc3BlbGwubmFtZSA9PSAiZ2F0ZSIgdGhlbg0KCSAgICBjYXN0V2coKQ0KICAgIGVuZA0KZW5kCQkJDQoNCg0KDQpmdW5jdGlvbiBTcGVsbEV4cGlyZWQoKQ0KCWlmIEhhek1lbnUuQUdQIGFuZCBub3Qgc3BlbGxFeHBpcmVkIGFuZCAoR2V0VGlja0NvdW50KCkgLSBpbmZvcm1hdGlvblRhYmxlLnNwZWxsQ2FzdGVkVGljaykgPD0gKGluZm9ybWF0aW9uVGFibGUuc3BlbGxSYW5nZSAvIGluZm9ybWF0aW9uVGFibGUuc3BlbGxTcGVlZCkgKiAxMDAwIHRoZW4NCgkJbG9jYWwgc3BlbGxEaXJlY3Rpb24gICAgID0gKGluZm9ybWF0aW9uVGFibGUuc3BlbGxFbmRQb3MgLSBpbmZvcm1hdGlvblRhYmxlLnNwZWxsU3RhcnRQb3MpOm5vcm1hbGl6ZWQoKQ0KCQlsb2NhbCBzcGVsbFN0YXJ0UG9zaXRpb24gPSBpbmZvcm1hdGlvblRhYmxlLnNwZWxsU3RhcnRQb3MgKyBzcGVsbERpcmVjdGlvbg0KCQlsb2NhbCBzcGVsbEVuZFBvc2l0aW9uICAgPSBpbmZvcm1hdGlvblRhYmxlLnNwZWxsU3RhcnRQb3MgKyBzcGVsbERpcmVjdGlvbiAqIGluZm9ybWF0aW9uVGFibGUuc3BlbGxSYW5nZQ0KCQlsb2NhbCBoZXJvUG9zaXRpb24gPSBQb2ludChteUhlcm8ueCwgbXlIZXJvLnopDQoJCWxvY2FsIGxpbmVTZWdtZW50ID0gTGluZVNlZ21lbnQoUG9pbnQoc3BlbGxTdGFydFBvc2l0aW9uLngsIHNwZWxsU3RhcnRQb3NpdGlvbi55KSwgUG9pbnQoc3BlbGxFbmRQb3NpdGlvbi54LCBzcGVsbEVuZFBvc2l0aW9uLnkpKQ0KCQ0KCQkJbG9jYWwgbGluZVNlZ21lbnQgPSBMaW5lU2VnbWVudChQb2ludChzcGVsbFN0YXJ0UG9zaXRpb24ueCwgc3BlbGxTdGFydFBvc2l0aW9uLnkpLCBQb2ludChzcGVsbEVuZFBvc2l0aW9uLngsIHNwZWxsRW5kUG9zaXRpb24ueSkpDQoJCQkNCg0KCQkJaWYgbGluZVNlZ21lbnQ6ZGlzdGFuY2UoaGVyb1Bvc2l0aW9uKSA8PSAzMDAgYW5kIFcuSXNSZWFkeSgpIHRoZW4NCgkJCQlXLnRhcmdldCA9IHVuaXQNCgkJCQljYXN0VygpDQoJCQllbmQNCg0KCQllbHNlDQoJCQlzcGVsbEV4cGlyZWQgPSB0cnVlDQoJCQlpbmZvcm1hdGlvblRhYmxlID0ge30NCgkJZW5kDQogICAgICAgIA0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICANCiAgICANCmVuZA0KDQoNCi0tY29tYm8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCmZ1bmN0aW9uIENvbWJvKCkNCglpZiBWYWxpZFRhcmdldCh0YXJnZXQpIHRoZW4NCiAgICAgICAgCWlmIFcuSXNSZWFkeSgpIGFuZCBIYXpNZW51LkNvbWJvLmNvbWJvVyB0aGVuDQoJCQkgICAgaWYgR2V0RGlzdGFuY2UobXlIZXJvLCB0YXJnZXQpIDw9ICBFLnJhbmdlIHRoZW4NCgkJCSAgICAgY2FzdFcoKQ0KCQkJICAgIGVuZA0KCQkJZW5kDQoJCQlpZiBIYXpNZW51LkNvbWJvLnN0dW5RIHRoZW4JDQogICAgICAgICAgICAgICAgaWYgUS5Jc1JlYWR5KCkgYW5kIEhhek1lbnUuQ29tYm8uY29tYm9RIHRoZW4NCgkJCQkgIA0KCQkJICAgICAgICBsb2NhbCBDYXN0UG9zaXRpb24sIEhpdENoYW5jZSwgQ2FzdFBvcyA9IFZQOkdldExpbmVDYXN0UG9zaXRpb24odGFyZ2V0LCBRLmRlbGF5LCBRLndpZHRoLCBRLnJhbmdlLCBRLnNwZWVkLCBteUhlcm8sIGZhbHNlKQ0KCQkJICAgICAgICBpZiBIaXRDaGFuY2UgPj0gMyBhbmQgR2V0RGlzdGFuY2UoQ2FzdFBvc2l0aW9uKSA8PSBRLnJhbmdlIHRoZW4NCgkJCQkgLS1pZiBIYXpNZW51Lk1pc2MuUGFrIGFuZCBWSVBfVVNFUiB0aGVuDQoJCQkJICAgICAtLXBhY2tldENhc3QoX1EsIENhc3RQb3NpdGlvbi54LCBDYXN0UG9zaXRpb24ueikNCgkJCQkJLS1lbHNlDQoJCQkJICAgICAgICBDYXN0U3BlbGwoX1EsIENhc3RQb3NpdGlvbi54LCBDYXN0UG9zaXRpb24ueikNCgkJCQktLWVuZAkgDQoJCQkgICAgICAgIGVuZA0KCQkgICAgICAgICAgDQoJCQkJZW5kCQ0KCQkJZWxzZWlmIG5vdCBIYXpNZW51LkNvbWJvLnN0dW5RIHRoZW4NCgkJCSAgICAgaWYgUS5Jc1JlYWR5KCkgYW5kIEhhek1lbnUuQ29tYm8uY29tYm9RIHRoZW4NCgkJCSAgICAgICAgbG9jYWwgQ2FzdFBvc2l0aW9uLCBIaXRDaGFuY2UsIENhc3RQb3MgPSBWUDpHZXRMaW5lQ2FzdFBvc2l0aW9uKHRhcmdldCwgUS5kZWxheSwgUS53aWR0aCwgUS5yYW5nZSwgUS5zcGVlZCwgbXlIZXJvLCBmYWxzZSkNCgkJCSAgICAgICAgaWYgSGl0Q2hhbmNlID49IDIgYW5kIEdldERpc3RhbmNlKENhc3RQb3NpdGlvbikgPD0gUS5yYW5nZSB0aGVuDQoJCQkJIC0taWYgSGF6TWVudS5NaXNjLlBhayBhbmQgVklQX1VTRVIgdGhlbg0KCQkJCSAgICAgLS1wYWNrZXRDYXN0KF9RLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCQkJCS0tZWxzZQ0KCQkJCSAgICAgICAgQ2FzdFNwZWxsKF9RLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCQkJLS1lbmQJIA0KCQkJICAgICAgICBlbmQNCgkJICAgICAgICBlbmQJDQoJCQllbmQJDQoJZW5kDQplbmQNCg0KDQotLWhhcmFzcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCg0KZnVuY3Rpb24gUG9rZSgpDQoJaWYgVmFsaWRUYXJnZXQodGFyZ2V0KSB0aGVuIA0KCQlpZiBRLklzUmVhZHkoKSBhbmQgSGF6TWVudS5IYXJhc3MuaGFyYXNzUSBhbmQgbXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IEhhek1lbnUuSGFyYXNzLk1hbmEgLzEwMCB0aGVuIA0KCQkgICAgbG9jYWwgQ2FzdFBvc2l0aW9uLCBIaXRDaGFuY2UsIENhc3RQb3MgPSBWUDpHZXRMaW5lQ2FzdFBvc2l0aW9uKHRhcmdldCwgUS5kZWxheSwgUS53aWR0aCwgUS5yYW5nZSwgUS5zcGVlZCwgbXlIZXJvLCBmYWxzZSkNCgkJCWlmIEhpdENoYW5jZSA+PSAyIGFuZCBHZXREaXN0YW5jZShDYXN0UG9zaXRpb24pIDw9IFEucmFuZ2UgdGhlbg0KCQkJCSAtLWlmIEhhek1lbnUuTWlzYy5QYWsgYW5kIFZJUF9VU0VSIHRoZW4NCgkJCQkgICAgIC0tcGFja2V0Q2FzdChfUSwgQ2FzdFBvc2l0aW9uLngsIENhc3RQb3NpdGlvbi56KQ0KCQkJCQktLWVsc2UNCgkJCQkgICAgQ2FzdFNwZWxsKF9RLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCQkJLS1lbmQNCgkJCWVuZA0KCQllbmQNCgkJaWYgVy5Jc1JlYWR5KCkgYW5kIEhhek1lbnUuSGFyYXNzLmhhcmFzc1cgdGhlbg0KCQkgICAgaWYgbXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IEhhek1lbnUuSGFyYXNzLk1hbmEgLzEwMCB0aGVuDQoJCSAgICAgICBpZiBHZXREaXN0YW5jZShteUhlcm8sIE1pbmlvbikgPD0gVy5yYW5nZSB0aGVuDQoJCQkgICAgIGNhc3RXKCkNCgkJCSAgICBlbmQNCiAgIAkJICAgIGVsc2UNCgkJCSAgIGlmIEdldERpc3RhbmNlKG15SGVybywgTWluaW9uKSA8PSBXLnJhbmdlIHRoZW4NCgkJCSAgICAgY2FzdFdibHVlKCkNCgkJCSAgIGVuZA0KCQkgICAgZW5kDQoJICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCg0KDQotLWZhcm0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCg0KZnVuY3Rpb24gRmFybSgpDQoJTWluaW9uczp1cGRhdGUoKQ0KCQ0KCWZvciBpLCBNaW5pb24gaW4gcGFpcnMoTWluaW9ucy5vYmplY3RzKSBkbw0KCQlpZiBRLklzUmVhZHkoKSBhbmQgSGF6TWVudS5GYXJtLmZhcm1RIGFuZCAjTWluaW9ucy5vYmplY3RzID4gMiB0aGVuDQoJCQlpZiBteUhlcm8ubWFuYSAvIG15SGVyby5tYXhNYW5hID4gSGF6TWVudS5GYXJtLk1hbmEgLzEwMCB0aGVuDQoJCQkgICAgaWYgVmFsaWRUYXJnZXQoTWluaW9uKSB0aGVuDQoJCQkgICAgICAgIGxvY2FsIEFPRUNhc3RQb3NpdGlvbiwgTWFpblRhcmdldEhpdENoYW5jZSwgblRhcmdldHMgPSBWUDpHZXRMaW5lQU9FQ2FzdFBvc2l0aW9uKE1pbmlvbiwgUS5kZWxheSwgUS53aWR0aCwgNzUwLCBRLnNwZWVkLCBteUhlcm8pDQoJCQkgICAgICAgIGlmIG5UYXJnZXRzID49IDEgYW5kIFEuSXNSZWFkeSgpIHRoZW4NCgkJCSAgICAgICAgICAgQ2FzdFNwZWxsKF9RLCBBT0VDYXN0UG9zaXRpb24ueCwgQU9FQ2FzdFBvc2l0aW9uLnopDQoJCQkgICAgICAgIGVuZA0KCQkJCWVuZAkNCgkJCWVuZA0KICAgCQllbmQNCgkJaWYgIFcuSXNSZWFkeSgpIGFuZCBIYXpNZW51LkZhcm0uZmFybVcgdGhlbg0KCQkgICAgaWYgbXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IEhhek1lbnUuRmFybS5NYW5hIC8xMDAgdGhlbg0KCQkgICAgICAgaWYgR2V0RGlzdGFuY2UobXlIZXJvLCBNaW5pb24pIDw9IFcucmFuZ2UgdGhlbg0KCQkJICAgICBjYXN0V3JlZCgpDQoJCQkgICAgZW5kDQogICAJCSAgICBlbHNlDQoJCQkgICBpZiBHZXREaXN0YW5jZShteUhlcm8sIE1pbmlvbikgPD0gVy5yYW5nZSB0aGVuDQoJCQkgICAgIGNhc3RXYmx1ZWZhcm0oKQ0KCQkJICAgZW5kDQoJCSAgICBlbmQNCgkgICAgZW5kDQoJZW5kCQ0KICAgIEp1bmdsZU1pbmlvbnM6dXBkYXRlKCkNCglmb3IgaSwgTWluaW9uIGluIHBhaXJzKEp1bmdsZU1pbmlvbnMub2JqZWN0cykgZG8NCgkgICAgaWYgUS5Jc1JlYWR5KCkgYW5kIEhhek1lbnUuRmFybS5mYXJtUSB0aGVuDQoJCQlpZiBteUhlcm8ubWFuYSAvIG15SGVyby5tYXhNYW5hID4gSGF6TWVudS5GYXJtLk1hbmEgLzEwMCB0aGVuDQoJCQkgICAgbG9jYWwgQU9FQ2FzdFBvc2l0aW9uLCBNYWluVGFyZ2V0SGl0Q2hhbmNlLCBuVGFyZ2V0cyA9IFZQOkdldExpbmVBT0VDYXN0UG9zaXRpb24oTWluaW9uLCBRLmRlbGF5LCBRLndpZHRoLCBFLnJhbmdlLCBRLnNwZWVkLCBteUhlcm8pDQoJCQkgICAgIGlmIG5UYXJnZXRzID49IDEgdGhlbg0KCQkJICAgICAgICBDYXN0U3BlbGwoX1EsIEFPRUNhc3RQb3NpdGlvbi54LCBBT0VDYXN0UG9zaXRpb24ueikNCgkJCSAgICBlbmQNCgkJCWVuZA0KICAgCQllbmQNCgkJaWYgIFcuSXNSZWFkeSgpIGFuZCBIYXpNZW51LkZhcm0uZmFybVcgdGhlbg0KCQkgICAgaWYgbXlIZXJvLm1hbmEgLyBteUhlcm8ubWF4TWFuYSA+IEhhek1lbnUuRmFybS5NYW5hIC8xMDAgdGhlbg0KCQkgICAgICAgaWYgR2V0RGlzdGFuY2UobXlIZXJvLCBNaW5pb24pIDw9IFcucmFuZ2UgdGhlbg0KCQkJICAgICBjYXN0V3JlZCgpDQoJCQkgICAgZW5kDQogICAJCSAgICBlbHNlDQoJCQkgICBpZiBHZXREaXN0YW5jZShteUhlcm8sIE1pbmlvbikgPD0gVy5yYW5nZSB0aGVuDQoJCQkgICAgIGNhc3RXYmx1ZWZhcm0oKQ0KCQkJICAgZW5kDQoJCSAgICBlbmQNCgkgICAgZW5kDQoJZW5kCQ0KZW5kDQoNCg0KDQoNCg0KZnVuY3Rpb24gY2FzdFEoKQ0KICAgIGlmIFZhbGlkVGFyZ2V0KFRhcmdldCkgYW5kIEhhek1lbnUucXBva2UgdGhlbg0KICAgCSAgICBpZiBRLklzUmVhZHkoKSB0aGVuDQoJICAgICAgICBsb2NhbCBDYXN0UG9zaXRpb24sIEhpdENoYW5jZSwgQ2FzdFBvcyA9IFZQOkdldExpbmVDYXN0UG9zaXRpb24odGFyZ2V0LCBRLmRlbGF5LCBRLndpZHRoLCBRLnJhbmdlLCBRLnNwZWVkLCBteUhlcm8sIGZhbHNlKQ0KCQkJaWYgSGl0Q2hhbmNlID49IDIgYW5kIEdldERpc3RhbmNlKENhc3RQb3NpdGlvbikgPD0gUS5yYW5nZSB0aGVuDQoJCQkJIC0taWYgSGF6TWVudS5NaXNjLlBhayBhbmQgVklQX1VTRVIgdGhlbg0KCQkJCSAgICAgLS1wYWNrZXRDYXN0KF9RLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCQkJCS0tZWxzZQ0KCQkJCSAgICBDYXN0U3BlbGwoX1EsIENhc3RQb3NpdGlvbi54LCBDYXN0UG9zaXRpb24ueikNCgkJCQktLWVuZA0KCQkJZW5kICAgDQoJCWVuZA0KICAgIGVuZA0KZW5kDQoNCi0tY2FsY2RtZy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KZnVuY3Rpb24gY2FsY0RtZygpDQoJZm9yIGk9MSwgaGVyb01hbmFnZXIuaUNvdW50IGRvDQoJCWxvY2FsIFRhcmdldCA9IGhlcm9NYW5hZ2VyOkdldEhlcm8oaSkNCgkJaWYgVmFsaWRUYXJnZXQoVGFyZ2V0KSBhbmQgVGFyZ2V0IH49IG5pbCB0aGVuDQoJCQlxRG1nID0gKChRUkVBRFkgYW5kIGdldERtZygiUSIsIFRhcmdldCwgbXlIZXJvKSkgb3IgMCkNCgkJCXdEbWcgPSAoKFdSRUFEWSBhbmQgZ2V0RG1nKCJXIiwgVGFyZ2V0LCBteUhlcm8pKSBvciAwKQ0KCQkJZURtZyA9ICgoRVJFQURZIGFuZCBnZXREbWcoIkUiLCBUYXJnZXQsIG15SGVybykpIG9yIDApDQoJCQlyRG1nID0gKChSUkVBRFkgYW5kIGdldERtZygiUiIsIFRhcmdldCwgbXlIZXJvKSkgb3IgMCkNCgkJCWFsbERtZyA9IChxRG1nKSArICh3RG1nKQ0KCQkJDQoJCQlpZiBUYXJnZXQuaGVhbHRoID4gYWxsRG1nIHRoZW4NCgkJCQlLaWxsVGV4dFtpXSA9IDENCgkJCWVsc2VpZiBUYXJnZXQuaGVhbHRoIDw9IGFsbERtZyB0aGVuDQoJCQkJS2lsbFRleHRbaV0gPSAyDQoJCQllbmQNCgkJZW5kDQoJZW5kCQ0KZW5kDQoNCmZ1bmN0aW9uIExGQ2Z1bmMoKQ0KCWlmIG5vdCBIYXpNZW51LkxGQy5MYWdGcmVlIHRoZW4gX0cuRHJhd0NpcmNsZSA9IF9HLm9sZERyYXdDaXJjbGUgZW5kDQogICAgaWYgSGF6TWVudS5MRkMuTGFnRnJlZSB0aGVuIF9HLkRyYXdDaXJjbGUgPSBEcmF3Q2lyY2xlMiBlbmQNCmVuZA0KDQotLSBCYXJhc2lhLCB2YWRhc2gsIHZpc2V2ZXJzYQ0KDQpmdW5jdGlvbiBEcmF3Q2lyY2xlTmV4dEx2bCh4LCB5LCB6LCByYWRpdXMsIHdpZHRoLCBjb2xvciwgY2hvcmRsZW5ndGgpDQoJcmFkaXVzID0gcmFkaXVzIG9yIDMwMA0KCXF1YWxpdHkgPSBtYXRoLm1heCg4LHJvdW5kKDE4MC9tYXRoLmRlZygobWF0aC5hc2luKChjaG9yZGxlbmd0aC8oMipyYWRpdXMpKSkpKSkpDQoJcXVhbGl0eSA9IDIgKiBtYXRoLnBpIC8gcXVhbGl0eQ0KCXJhZGl1cyA9IHJhZGl1cyouOTINCglsb2NhbCBwb2ludHMgPSB7fQ0KCWZvciB0aGV0YSA9IDAsIDIgKiBtYXRoLnBpICsgcXVhbGl0eSwgcXVhbGl0eSBkbw0KCQlsb2NhbCBjID0gV29ybGRUb1NjcmVlbihEM0RYVkVDVE9SMyh4ICsgcmFkaXVzICogbWF0aC5jb3ModGhldGEpLCB5LCB6IC0gcmFkaXVzICogbWF0aC5zaW4odGhldGEpKSkNCgkJcG9pbnRzWyNwb2ludHMgKyAxXSA9IEQzRFhWRUNUT1IyKGMueCwgYy55KQ0KCWVuZA0KCURyYXdMaW5lczIocG9pbnRzLCB3aWR0aCBvciAxLCBjb2xvciBvciA0Mjk0OTY3Mjk1KQ0KZW5kDQoNCmZ1bmN0aW9uIHJvdW5kKG51bSkgDQoJaWYgbnVtID49IDAgdGhlbiByZXR1cm4gbWF0aC5mbG9vcihudW0rLjUpIGVsc2UgcmV0dXJuIG1hdGguY2VpbChudW0tLjUpIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIERyYXdDaXJjbGUyKHgsIHksIHosIHJhZGl1cywgY29sb3IpDQoJbG9jYWwgdlBvczEgPSBWZWN0b3IoeCwgeSwgeikNCglsb2NhbCB2UG9zMiA9IFZlY3RvcihjYW1lcmFQb3MueCwgY2FtZXJhUG9zLnksIGNhbWVyYVBvcy56KQ0KCWxvY2FsIHRQb3MgPSB2UG9zMSAtICh2UG9zMSAtIHZQb3MyKTpub3JtYWxpemVkKCkgKiByYWRpdXMNCglsb2NhbCBzUG9zID0gV29ybGRUb1NjcmVlbihEM0RYVkVDVE9SMyh0UG9zLngsIHRQb3MueSwgdFBvcy56KSkNCglpZiBPblNjcmVlbih7IHggPSBzUG9zLngsIHkgPSBzUG9zLnkgfSwgeyB4ID0gc1Bvcy54LCB5ID0gc1Bvcy55IH0pIHRoZW4NCgkJRHJhd0NpcmNsZU5leHRMdmwoeCwgeSwgeiwgcmFkaXVzLCAxLCBjb2xvciwgSGF6TWVudS5MRkMuQ0wpIA0KCWVuZA0KZW5kDQoNCg0KLS1IUGJhciBkcmF3cy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQpmb3IgaSwgZW5lbXkgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQogICAgZW5lbXkuYmFyRGF0YSA9IHtQZXJjZW50YWdlT2Zmc2V0ID0ge3ggPSAwLCB5ID0gMH0gfQ0KZW5kDQoNCmZ1bmN0aW9uIEdldEVuZW15SFBCYXJQb3MoZW5lbXkpDQoNCiAgICBpZiBub3QgZW5lbXkuYmFyRGF0YSB0aGVuDQogICAgICAgIHJldHVybg0KICAgIGVuZA0KDQogICAgbG9jYWwgYmFyUG9zID0gR2V0VW5pdEhQQmFyUG9zKGVuZW15KQ0KICAgIGxvY2FsIGJhclBvc09mZnNldCA9IEdldFVuaXRIUEJhck9mZnNldChlbmVteSkNCiAgICBsb2NhbCBiYXJPZmZzZXQgPSBQb2ludChlbmVteS5iYXJEYXRhLlBlcmNlbnRhZ2VPZmZzZXQueCwgZW5lbXkuYmFyRGF0YS5QZXJjZW50YWdlT2Zmc2V0LnkpDQogICAgbG9jYWwgYmFyUG9zUGVyY2VudGFnZU9mZnNldCA9IFBvaW50KGVuZW15LmJhckRhdGEuUGVyY2VudGFnZU9mZnNldC54LCBlbmVteS5iYXJEYXRhLlBlcmNlbnRhZ2VPZmZzZXQueSkNCg0KICAgIGxvY2FsIEJhclBvc09mZnNldFggPSAxNjkNCiAgICBsb2NhbCBCYXJQb3NPZmZzZXRZID0gNDcNCiAgICBsb2NhbCBDb3JyZWN0aW9uWCA9IDE2DQogICAgbG9jYWwgQ29ycmVjdGlvblkgPSA0DQoNCiAgICBiYXJQb3MueCA9IGJhclBvcy54ICsgKGJhclBvc09mZnNldC54IC0gMC41ICsgYmFyUG9zUGVyY2VudGFnZU9mZnNldC54KSAqIEJhclBvc09mZnNldFggKyBDb3JyZWN0aW9uWA0KICAgIGJhclBvcy55ID0gYmFyUG9zLnkgKyAoYmFyUG9zT2Zmc2V0LnkgLSAwLjUgKyBiYXJQb3NQZXJjZW50YWdlT2Zmc2V0LnkpICogQmFyUG9zT2Zmc2V0WSArIENvcnJlY3Rpb25ZIA0KDQogICAgbG9jYWwgU3RhcnRQb3MgPSBQb2ludChiYXJQb3MueCwgYmFyUG9zLnkpDQogICAgbG9jYWwgRW5kUG9zID0gUG9pbnQoYmFyUG9zLnggKyAxMDMsIGJhclBvcy55KQ0KDQogICAgcmV0dXJuIFBvaW50KFN0YXJ0UG9zLngsIFN0YXJ0UG9zLnkpLCBQb2ludChFbmRQb3MueCwgRW5kUG9zLnkpDQoNCmVuZA0KDQoNCmZ1bmN0aW9uIERyYXdJbmRpY2F0b3IoZW5lbXkpDQoJbG9jYWwgUWRtZywgV2RtZywgRWRtZywgQUFkbWcgPSBnZXREbWcoIlEiLCBlbmVteSwgbXlIZXJvKSwgZ2V0RG1nKCJXIiwgZW5lbXksIG15SGVybyksIGdldERtZygiRSIsIGVuZW15LCBteUhlcm8pLCBnZXREbWcoIkFEIiwgZW5lbXksIG15SGVybykNCgkNCglRZG1nID0gKChRLklzUmVhZHkgYW5kIFFkbWcpIG9yIDApDQoJRWRtZyA9ICgoRS5Jc1JlYWR5IGFuZCBFZG1nKSBvciAwKQ0KCVJkbWcgPSAoKFIuSXNSZWFkeSBhbmQgUmRtZykgb3IgMCkNCglBQWRtZyA9ICgoQWFkbWcpIG9yIDApDQoNCiAgICBsb2NhbCBkYW1hZ2UgPSBRZG1nICsgRWRtZyArIFJkbWcNCg0KICAgIGxvY2FsIFNQb3MsIEVQb3MgPSBHZXRFbmVteUhQQmFyUG9zKGVuZW15KQ0KDQogICAgaWYgbm90IFNQb3MgdGhlbiByZXR1cm4gZW5kDQoNCiAgICBsb2NhbCBiYXJ3aWR0aCA9IEVQb3MueCAtIFNQb3MueA0KICAgIGxvY2FsIFBvc2l0aW9uID0gU1Bvcy54ICsgbWF0aC5tYXgoMCwgKGVuZW15LmhlYWx0aCAtIGRhbWFnZSkgLyBlbmVteS5tYXhIZWFsdGgpICogYmFyd2lkdGgNCg0KCURyYXdUZXh0KCJ8IiwgMTYsIG1hdGguZmxvb3IoUG9zaXRpb24pLCBtYXRoLmZsb29yKFNQb3MueSArIDgpLCBBUkdCKDI1NSwwLDI1NSwwKSkNCiAgICBEcmF3VGV4dCgiSFA6ICIuLm1hdGguZmxvb3IoZW5lbXkuaGVhbHRoIC0gZGFtYWdlKSwgMTIsIG1hdGguZmxvb3IoU1Bvcy54ICsgMjUpLCBtYXRoLmZsb29yKFNQb3MueSAtIDE1KSwgKGVuZW15LmhlYWx0aCAtIGRhbWFnZSkgPiAwIGFuZCBBUkdCKDI1NSwgMCwgMjU1LCAwKSBvciAgQVJHQigyNTUsIDI1NSwgMCwgMCkpDQplbmQNCg0KDQotLWNhcmRzZWxlY3Rpb25zLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCg0KZnVuY3Rpb24gY2FzdFcoKQ0KICAgIGlmIFZhbGlkVGFyZ2V0KHRhcmdldCkgdGhlbiANCgkgICAgbG9jYWwgTmFtZSA9IG15SGVybzpHZXRTcGVsbERhdGEoX1cpLm5hbWUNCgkJc3BlbGxOYW1lID0gImdvbGRjYXJkbG9jayINCgkJaWYgTmFtZSA9PSAiUGlja0FDYXJkIiB0aGVuDQoJCQlDYXN0U3BlbGwoX1cpDQoJCWVuZA0KCSAgICBpZiBOYW1lID09IHNwZWxsTmFtZSB0aGVuDQoJCUNhc3RTcGVsbChfVykNCgkJU2VsZWN0Q2FyZCA9IG5pbA0KCSAgICBlbmQNCgllbmQNCmVuZAkNCg0KDQpmdW5jdGlvbiBjYXN0V2JsdWUoKQ0KICAgIGlmIFZhbGlkVGFyZ2V0KHRhcmdldCkgdGhlbiANCgkgICAgbG9jYWwgTmFtZSA9IG15SGVybzpHZXRTcGVsbERhdGEoX1cpLm5hbWUNCgkJc3BlbGxOYW1lID0gImJsdWVjYXJkbG9jayINCgkJaWYgTmFtZSA9PSAiUGlja0FDYXJkIiB0aGVuDQoJCQlDYXN0U3BlbGwoX1cpDQoJCWVuZA0KCSAgICBpZiBOYW1lID09IHNwZWxsTmFtZSB0aGVuDQoJCUNhc3RTcGVsbChfVykNCgkJU2VsZWN0Q2FyZCA9IG5pbA0KCSAgICBlbmQNCgllbmQNCmVuZAkNCg0KDQpmdW5jdGlvbiBjYXN0V3JlZCgpDQogICAgDQoJICAgIGxvY2FsIE5hbWUgPSBteUhlcm86R2V0U3BlbGxEYXRhKF9XKS5uYW1lDQoJCXNwZWxsTmFtZSA9ICJyZWRjYXJkbG9jayINCgkJaWYgTmFtZSA9PSAiUGlja0FDYXJkIiB0aGVuDQoJCQlDYXN0U3BlbGwoX1cpDQoJCWVuZA0KCSAgICBpZiBOYW1lID09IHNwZWxsTmFtZSB0aGVuDQoJCUNhc3RTcGVsbChfVykNCgkJU2VsZWN0Q2FyZCA9IG5pbA0KCSAgICBlbmQNCgkNCmVuZAkNCg0KDQpmdW5jdGlvbiBjYXN0V2JsdWVmYXJtKCkNCiAgICANCgkgICAgbG9jYWwgTmFtZSA9IG15SGVybzpHZXRTcGVsbERhdGEoX1cpLm5hbWUNCgkJc3BlbGxOYW1lID0gImJsdWVjYXJkbG9jayINCgkJaWYgTmFtZSA9PSAiUGlja0FDYXJkIiB0aGVuDQoJCQlDYXN0U3BlbGwoX1cpDQoJCWVuZA0KCSAgICBpZiBOYW1lID09IHNwZWxsTmFtZSB0aGVuDQoJCUNhc3RTcGVsbChfVykNCgkJU2VsZWN0Q2FyZCA9IG5pbA0KCSAgICBlbmQNCgkNCmVuZA0KDQpmdW5jdGlvbiBjYXN0V2coKQ0KICAgIA0KCSAgICBsb2NhbCBOYW1lID0gbXlIZXJvOkdldFNwZWxsRGF0YShfVykubmFtZQ0KCQlzcGVsbE5hbWUgPSAiZ29sZGNhcmRsb2NrIg0KCQlpZiBOYW1lID09ICJQaWNrQUNhcmQiIHRoZW4NCgkJCUNhc3RTcGVsbChfVykNCgkJZW5kDQoJICAgIGlmIE5hbWUgPT0gc3BlbGxOYW1lIHRoZW4NCgkJQ2FzdFNwZWxsKF9XKQ0KCQlTZWxlY3RDYXJkID0gbmlsDQoJICAgIGVuZA0KCQ0KZW5kDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWmhvbnlhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KDQpmdW5jdGlvbiBHZXRTbG90SXRlbShpZCwgdW5pdCkNCgkNCgl1bml0IAkJPSB1bml0IG9yIG15SGVybw0KDQoJaWYgKG5vdCBJdGVtTmFtZXNbaWRdKSB0aGVuDQoJCXJldHVybiBfX19HZXRJbnZlbnRvcnlTbG90SXRlbShpZCwgdW5pdCkNCgllbmQNCg0KCWxvY2FsIG5hbWUJPSBJdGVtTmFtZXNbaWRdDQoJDQoJZm9yIHNsb3QgPSBJVEVNXzEsIElURU1fNyBkbw0KCQlsb2NhbCBpdGVtID0gdW5pdDpHZXRTcGVsbERhdGEoc2xvdCkubmFtZQ0KCQlpZiAoKCNpdGVtID4gMCkgYW5kIChpdGVtOmxvd2VyKCkgPT0gbmFtZTpsb3dlcigpKSkgdGhlbg0KCQkJcmV0dXJuIHNsb3QNCgkJZW5kDQoJZW5kDQoNCmVuZA0KDQoNCg0KZnVuY3Rpb24gWmhvbnlhKCkNCglsb2NhbCBTbG90ID0gR2V0SW52ZW50b3J5U2xvdEl0ZW0oMzE1NykNCgkJaWYgU2xvdCB+PSBuaWwgYW5kIG15SGVybzpDYW5Vc2VTcGVsbChTbG90KSA9PSBSRUFEWSB0aGVuDQoJCQlsb2NhbCBSYW5nZSA9IDkwMA0KCQkJbG9jYWwgQW1vdW50ID0gSGF6TWVudS5NaXNjLkFtb3VudA0KCQkJbG9jYWwgaGVhbHRoID0gbXlIZXJvLmhlYWx0aA0KCQkJbG9jYWwgbWF4SGVhbHRoID0gbXlIZXJvLm1heEhlYWx0aA0KCQkJCWlmICgoaGVhbHRoL21heEhlYWx0aCkqMTAwKSA8PSBIYXpNZW51Lk1pc2MuemhvbnlhSFAgYW5kIENvdW50RW5lbXlIZXJvSW5SYW5nZShSYW5nZSkgPj0gQW1vdW50IHRoZW4NCgkJCUNhc3RTcGVsbChTbG90KQ0KCQllbmQNCgllbmQNCmVuZA0KDQoNCmZ1bmN0aW9uIENvdW50RW5lbXlIZXJvSW5SYW5nZShyYW5nZSkNCglsb2NhbCBlbmVteUluUmFuZ2UgPSAwDQoJCWZvciBpID0gMSwgaGVyb01hbmFnZXIuaUNvdW50LCAxIGRvDQoJCQlsb2NhbCBoZXJvID0gaGVyb01hbmFnZXI6Z2V0SGVybyhpKQ0KCQkJCWlmIFZhbGlkVGFyZ2V0KGhlcm8scmFuZ2UpIHRoZW4NCgkJCWVuZW15SW5SYW5nZSA9IGVuZW15SW5SYW5nZSArIDENCgkJCWVuZA0KCQllbmQNCglyZXR1cm4gZW5lbXlJblJhbmdlDQplbmQNCg0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KDQoNCg0K="), nil, "bt", _ENV))()